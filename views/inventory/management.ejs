
<!-- main removed: handled by layout.ejs -->
  <h1>Inventory Management</h1>
  <% if (message && message.length) { %>
    <div class="notice"><%= message %></div>
  <% } %>

  <section>
    <h2>Add Classification</h2>
    <form action="/inv/add-classification" method="POST" class="registration-form">
      <label for="classification_name">Classification Name:</label>
      <input type="text" id="classification_name" name="classification_name" required value="<%= typeof classification_name !== 'undefined' ? classification_name : '' %>">
      <button type="submit">Add Classification</button>
    </form>
  </section>

  <section>
    <h2>Add Inventory Item</h2>
    <form action="/inv/add-inventory" method="POST" class="registration-form">
      <label for="inv_vin">VIN:</label>
      <input type="text" id="inv_vin" name="inv_vin" required value="<%= typeof inv_vin !== 'undefined' ? inv_vin : '' %>">
      <label for="inv_make">Make:</label>
      <input type="text" id="inv_make" name="inv_make" required value="<%= typeof inv_make !== 'undefined' ? inv_make : '' %>">
      <label for="inv_model">Model:</label>
      <input type="text" id="inv_model" name="inv_model" required value="<%= typeof inv_model !== 'undefined' ? inv_model : '' %>">
      <label for="inv_year">Year:</label>
      <input type="text" id="inv_year" name="inv_year" required maxlength="4" value="<%= typeof inv_year !== 'undefined' ? inv_year : '' %>">
      <label for="inv_description">Description:</label>
      <textarea id="inv_description" name="inv_description" required><%= typeof inv_description !== 'undefined' ? inv_description : '' %></textarea>
      <label for="inv_image">Image Path:</label>
      <input type="text" id="inv_image" name="inv_image" value="<%= typeof inv_image !== 'undefined' ? inv_image : '' %>">
      <label for="inv_thumbnail">Thumbnail Path:</label>
      <input type="text" id="inv_thumbnail" name="inv_thumbnail" value="<%= typeof inv_thumbnail !== 'undefined' ? inv_thumbnail : '' %>">
      <label for="inv_price">Price:</label>
      <input type="number" id="inv_price" name="inv_price" value="<%= typeof inv_price !== 'undefined' ? inv_price : '' %>">
      <label for="inv_miles">Miles:</label>
      <input type="number" id="inv_miles" name="inv_miles" value="<%= typeof inv_miles !== 'undefined' ? inv_miles : '' %>">
      <label for="inv_color">Color:</label>
      <input type="text" id="inv_color" name="inv_color" value="<%= typeof inv_color !== 'undefined' ? inv_color : '' %>">
      <label for="classification_id">Classification:</label>
      <select id="classification_id" name="classification_id" required>
        <option value="">Choose a Classification</option>
        <% classifications.forEach(function(classification) { %>
          <option value="<%= classification.classification_id %>" <%= typeof classification_id !== 'undefined' && classification_id == classification.classification_id ? 'selected' : '' %>><%= classification.classification_name %></option>
        <% }); %>
      </select>
      <button type="submit">Add Inventory Item</button>
    </form>
  </section>

  <section>
    <h2>Manage Inventory</h2>
    <form id="inventory-filter-form" action="#" method="get" style="margin-bottom: 1em;">
      <label for="classificationList">Classification:</label>
      <select name="classification_id" id="classificationList" required>
        <option value=''>Choose a Classification</option>
        <% classifications.forEach(function(classification) { %>
          <option value="<%= classification.classification_id %>">
            <%= classification.classification_name %>
          </option>
        <% }); %>
      </select>
    </form>
    <noscript>
      <div class="noscript-message" role="alert" aria-live="assertive" style="color: #c53030; background: #fff5f5; padding: 16px; border-radius: 8px; font-weight: bold;">
        JavaScript must be enabled to use this page for full functionality. Some features may be unavailable.
      </div>
    </noscript>
    <table id="inventoryDisplay" role="none">
      <caption class="visually-hidden">This table is used for layout purposes only and is not intended for data presentation.</caption>
    </table>
    <script src="../../js/inventory.js"></script>
  </section>

