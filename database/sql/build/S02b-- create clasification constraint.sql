-- S02b-- create clasification constraint.sql
-- Adds a CHECK constraint to classification_name to prevent spaces and special characters (only letters and numbers allowed).
-- Maintains original table structure for reference. Use this script to enforce stricter data integrity on classification names.
-- Table structure for table 'classification' with constraint on classification_name
CREATE TABLE IF NOT EXISTS PUBLIC.classification (
	classification_id INT GENERATED BY DEFAULT AS IDENTITY,
	classification_name CHARACTER VARYING NOT NULL,
	CONSTRAINT classification_pk PRIMARY KEY (classification_id),
	CONSTRAINT classification_name_valid CHECK (classification_name ~ '^[A-Za-z0-9]+$'),
	CONSTRAINT classification_name_unique UNIQUE (classification_name)
);
-- This constraint ensures classification_name contains only letters and numbers (no spaces or special characters)
